<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Healthy Neighborhoods </title>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
        integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
        crossorigin="" />

    <!-- d3 JavaScript -->
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <!--Plotly-->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <!-- Any Chart-->
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-sunburst.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-data-adapter.min.js"></script>
    <link href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css" type="text/css" rel="stylesheet">
    <link href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css" type="text/css" rel="stylesheet">
    <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-data-adapter.min.js"></script>

    <!-- TA Benji's caching script -->
    <script src="static/js/d3Caching.js"></script>

    <!-- Ominivore Leaflet Plugin -->
    <script src='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js'></script>

    <!-- Our CSS -->
    <link rel="stylesheet" type="text/css" href="static/css/styles.css">
    <link rel="stylesheet" type="text/css" href="static/css/mapstyle.css">

</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="#page-top">Healthy Neighborhoods</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span
                    class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#team">Team</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#data">Data</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="bg-primary text-white" background>
        <div class="container text-center">
            <h1>Minneapolis and St. Paul Neighborhoods</h1>
            <h4>VISUALIZING A HEALTHY COMMUNITY</h4>
        </div>
    </header>

    <section <section <section id="intro">
        <div class="container text-center">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Welcome</h1>
                    <p class="lead">Welcome to the Healthy Neighborhoods dashboard &mdash; where you can visualize and
                        explore metrics for helping to choose a neighborhood that meets your
                        healthy lifestyle requirements.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="chart1">
        <div class="container text-center">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8">
                        <!-- map div -->
                        <div id="map-container">
                            <div id="map"></div>
                        </div>

                        <!-- Commented out the Summary Table for now, may not use-->
                        <!-- summary table div
                        <div id="summary-table">
                            <h2>Places Near {Neighborhood}</h2>
                            <table width=100%>
                                <thead>
                                    <tr valign=bottom>
                                        <th>Supermarkets</th>
                                        <th>Parks</th>
                                        <th>Gyms</th>
                                        <th>Restaurants</th>
                                        <th>Schools</th>
                                        <th>Transit Stations</th>
                                        <th>Churches</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                            <br>
                            <p class="notes">Results summary table will go here. Configured to show all parametrics for
                                chosen
                                neighborhood.</p>
                        </div> -->
                    </div>

                    <div class="col-lg-4">
                        <div class="container">
                            <div id="demo-table">
                                <h2>Demographics</h2>
                                <h4>{neighborhood}</h4>

                                <!-- Demographics from selected neighborhood-->
                                <table width="100%" id="demographics">
                                    <tr>
                                        <td align="right" width="50%"><b>Population:</b></td>
                                        <td id="population" align="left" width="50%"></td>
                                    </tr>
                                    <tr>
                                        <td align="right"><b>Households:</b></td>
                                        <td align="left">{households}</td>
                                    </tr>
                                    <tr>
                                        <td align="right"><b>Median Income:</b></td>
                                        <td align="left">${income}</td>
                                    </tr>
                                    <tr>
                                        <td align="right"><b>Unemployment:</b></td>
                                        <td align="left">{unemployment}%</td>
                                    </tr>
                                </table>
                            </div>

                            <p>&nbsp</p>
                            <p>&nbsp</p>

                            <!-- Address from selected neighborhood-->
                            <div id="walscore">
                                <h2>Walkability Score</h2>
                                <!-- walkscore div -->
                                <script type='text/javascript'>
                                    var ws_wsid = 'g7a380191f9d647f8a2185262a0bfa9e1';
                                    // This is where the address will go  var ws_address //
                                    var ws_address = 'Minneapolis, MN';
                                    var ws_format = 'wide';
                                    var ws_width = '300';
                                    var ws_height = '200';
                                </script>
                                <style type='text/css'>
                                    #ws-walkscore-tile {
                                        position: relative;
                                        text-align: left
                                    }

                                    #ws-walkscore-tile * {
                                        float: none;
                                    }
                                </style>
                                <div id='ws-walkscore-tile'></div>
                                <script type='text/javascript'
                                    src='http://www.walkscore.com/tile/show-walkscore-tile.php'></script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section id="chart2">
        <div class=" container text-center">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div>
                        <h2>Age Makeup</h2>
                        <h4>{neighborhood}</h4>
                        <!-- pie div -->
                        <div id="pie-container center-block">
                            <div id="pie"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section id="chart3">
        <div class=" container text-center">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2>Compare Demographics Between Neighborhoods</h2>
                    <label><b>Choose a metric:</b></label>
                    <!-- need an event handler for the dropdown-->
                    <!-- Metric from the database-->
                    <div class="col-lg-8 mx-auto">
                        <select class="form-control browser-default dropdown" id="dd"
                            onchange="optionChanged(this.value)">
                            <option value="">Population</option>
                            <option value="">Number of Households</option>
                            <option value="">Median Income ($)</option>
                            <option value="">Unemployment (%)</option>
                        </select>
                    </div>
                    <!-- sunburst div  -->
                    <div id="sunburst-container">
                        <div id="sunburst"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section id="about" class="bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2>About this Project</h2>
                    <p class="lead">This project showcases storytelling through data visualizations, providing the user
                        interactive means to explore the data.
                        The project methodology focused on:</p>
                    <ul>
                        <li>ETL of chosen data set(s).</li>
                        <li>Integrating Flask with HTML and Javascript (pulling data from a database to display on a web
                            page).</li>
                        <li>Databases, libraries, and languages used to develop the dashboard:
                            <ul>
                                <li>Postgres SQL</li>
                                <li>Flask</li>
                                <li>HTML</li>
                                <li>CSS</li>
                                <li>D3</li>
                                <li>Javascript</li>
                                <li>Plotly</li>
                                <li>Google Places API</li>
                                <li>Leaflet</li>
                            </ul>
                        </li>
                        <li>Working as a team.</li>
                        <li>Use of libraries new to the team to demonstrate problem-solving and research skills. An
                            AnyChart javascript library was used for some of the charts.</li>

                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="team">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2>Team</h2>
                    <div class="row">
                        <div class="col">
                            <p class="lead">Nick Buller</p>
                            <p><a href="mailto:nabuller@gmail.com">nabuller@gmail.com</a></p>
                        </div>
                        <div class="col">
                            <p class="lead">Kerry Harp</p>
                            <p><a href="mailto:kharp@umn.edu">kharp@umn.edu</a></p>
                            <p>Promoting sustainability in the built environment and the health/wellbeing of occupants.
                                With degrees in architecture and accreditations in LEED and WELL, Kerryâ€™s value is being
                                a bridge between the technical and design fields to promote and deploy resilient,
                                sustainability, and wellbeing strategies.</p>
                        </div>
                        <div class="col">
                            <p class="lead">Sofanit Mengesha</p>
                            <p><a href="#">need email</a></p>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="data" class="bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <h2>Data</h2>
                    <p class="lead">
                        Data for the dashboard was derived from various sources:
                    <ul>
                        <li>
                            <a href="mncompass.org" target="_blank">Minnesota Compass</a> derives data from the 2010
                            census counts, 2015-2019 American Community Survey (ACS) 5-year estimates, and
                            Longitudinal Employer-Household Dynamics (LEHD). A CSV file of the ACS survey of all the
                            neighborhoods (101) in Minneapolis and St. Paul was downloaded and an ETL process was
                            performed.
                        </li>
                        <li>
                            Neighborhood latitude and longitude data for the map was obtained for Minneapolis at <a
                                href="https://opendata.minneapolismn.gov/datasets/minneapolis-neighborhoods"
                                target="_blank">Open Minneapolis</a>. St. Paul data was obtained from the <a
                                href="https://information.stpaul.gov" target="_blank">City of St. Paul</a>. If
                            necessary, the data was converted to geojson format.
                        </li>
                        <li>Data for the types/places on the map were obtained using <a
                                href="https://developers.google.com/maps/documentation/places/web-service/overview"
                                target="_blank">Google Places</a> then stored in a Postgres database.
                        </li>
                        <li>
                            Data for the neighborhood address for Walkscore for Minneapolis was found at the <a
                                href="https://apps.ci.minneapolis.mn.us/cofm/Neighborhood-Organizations/"
                                target="/blank">City of Minneapolis</a>. St. Paul data was obtained from the <a
                                href="https://information.stpaul.gov" target="_blank">City of St. Paul</a>. CSV file
                            containing the adddresses was read into the Walkscore Javacript snippet.
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer-->
    <footer class="py-5 bg-dark">
        <div class="container">
            <p class="m-0 text-center text-white">Copyright &copy; 2021: Buller, Harp, Mengesha</p>
        </div>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
        integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
        crossorigin=""></script>



    <!-- API key -->
    <script type="text/javascript" src="static/js/config.js"></script>

    <!-- JS  -->
    <!-- <script type="text/javascript" src="static/js/maplogic.js"></script> -->
    <script type="text/javascript" src="static/js/maplogic2.js"></script>
    <!-- <script type="text/javascript" src="static/js/pie.js"></script> -->
    <script type="text/javascript" src="static/js/charts.js"></script>
    <!--<script type="text/javascript" src="static/js/places_table.js"></script>-->

    <!-- Bootstrap core JS-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Third party plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <!-- Core theme JS-->

    <script src="static/js/scripts.js"></script>

</body>

</html>